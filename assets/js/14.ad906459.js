(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{398:function(s,e,a){"use strict";a.r(e);var t=a(12),r=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("通过PHP调用腾讯云的API时，需要使用腾讯云的SDK依赖，官方文档上说通过 Composer 获取安装是使用 PHP SDK 推荐方法，那么什么是Composer 又如何使用呢？")]),s._v(" "),e("blockquote",[e("p",[s._v("Composer 是 PHP 的一个依赖管理工具。我们可以在项目中声明所依赖的外部工具库，Composer 会帮你安装这些依赖的库文件，有了它，我们就可以很轻松的使用一个命令将其他人的优秀代码引用到我们的项目中来。")]),s._v(" "),e("p",[s._v("Composer 默认情况下不是全局安装，而是基于指定的项目的某个目录中（例如 vendor）进行安装。")]),s._v(" "),e("p",[s._v("Composer 需要 PHP 5.3.2+ 以上版本，且需要开启 openssl。")]),s._v(" "),e("p",[s._v("Composer 可运行在 Windows 、 Linux 以及 OSX 平台上。")])]),s._v(" "),e("h2",{attrs:{id:"composer-的安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#composer-的安装"}},[s._v("#")]),s._v(" Composer 的安装")]),s._v(" "),e("p",[s._v("首先需要开启 openssl 配置，打开 php 目录下的 php.ini，找到 "),e("strong",[s._v("extension=php_openssl.dll")]),s._v(" ，如果是注释掉的状态就将其打开就可以了。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://alist.worthy.cc/d/local/images/2023/image-20221216171650828.png",alt:"image-20221216171650828"}})]),s._v(" "),e("p",[s._v("Windows 平台上，下载 "),e("a",{attrs:{href:"https://getcomposer.org/Composer-Setup.exe",target:"_blank",rel:"noopener noreferrer"}},[s._v("Composer-Setup.exe"),e("OutboundLink")],1),s._v(" 后，一步步安装即可。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://alist.worthy.cc/d/local/images/2023/image-20221216171813224.png",alt:"image-20221216171813224"}})]),s._v(" "),e("p",[s._v("安装成功后，我们可以通过命令窗口(cmd) 输入 "),e("strong",[s._v("composer --version")]),s._v(" 命令来查看是否安装成功：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://alist.worthy.cc/d/local/images/2023/image-20221216171851558.png",alt:"image-20221216171851558"}})]),s._v(" "),e("p",[s._v("可以使用腾讯云镜像源提高下载速度，在CMD命令窗口执行以下命令：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" config "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" repos.packagist "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" https://mirrors.tencent.com/composer/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("至此安装就完成了。")]),s._v(" "),e("h2",{attrs:{id:"composer-的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#composer-的使用"}},[s._v("#")]),s._v(" Composer 的使用")]),s._v(" "),e("p",[s._v("要使用 Composer，需要先在项目的目录下创建一个 composer.json 文件，文件描述了项目的依赖关系。")]),s._v(" "),e("p",[s._v("文件格式如下：")]),s._v(" "),e("div",{staticClass:"language-json line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"require"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"monolog/monolog"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.2.*"')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("以上文件说明需要下载从 1.2 开始的任何版本的 monolog。")]),s._v(" "),e("p",[s._v("接下来只要运行以下命令即可安装依赖包：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"require-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#require-命令"}},[s._v("#")]),s._v(" require 命令")]),s._v(" "),e("p",[s._v("除了使用 install 命令外，我们也可以使用 require 命令快速的安装一个依赖而不需要手动在 composer.json 里添加依赖信息：")]),s._v(" "),e("p",[s._v("在打开的命令窗口执行命令安装 monolog（安装到指定位置），例如安装到"),e("code",[s._v("C:\\Users\\···>")]),s._v("目录下，则在指定的位置打开命令窗口，并执行以下命令：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("composer")]),s._v(" require monolog/monolog\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Composer 会先找到合适的版本，然后更新composer.json文件，在 require 那添加 monolog/monolog 包的相关信息，再把相关的依赖下载下来进行安装，最后更新 composer.lock 文件并生成 php 的自动加载文件。")]),s._v(" "),e("h2",{attrs:{id:"自动加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自动加载"}},[s._v("#")]),s._v(" 自动加载")]),s._v(" "),e("p",[s._v("除了库的下载，Composer 还准备了一个自动加载文件，它可以加载 Composer 下载的库中所有的类文件。使用它，你只需要将下面这行代码添加到你项目的引导文件中：")]),s._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'vendor/autoload.php'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"phpmailer安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#phpmailer安装"}},[s._v("#")]),s._v(" PHPMailer安装")]),s._v(" "),e("p",[s._v("之前通过下载PHPMailer所需要的文件的方法来使用PHPMailer，有了composer，就可以直接用命令来安装使用了。")]),s._v(" "),e("p",[s._v("Just add this line to your "),e("code",[s._v("composer.json")]),s._v(" file:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('"phpmailer/phpmailer": "^6.7.1"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("or run")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("composer require phpmailer/phpmailer\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("引入到你的php代码中就可以使用了。")]),s._v(" "),e("div",{staticClass:"language-php line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("require_once")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'vendor/autoload.php'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[s._v("PHPMailer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PHPMailer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("PHPMailer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);