(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{406:function(a,s,t){"use strict";t.r(s);var e=t(12),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"gitlab-离线安装-汉化-卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-离线安装-汉化-卸载"}},[a._v("#")]),a._v(" GitLab-离线安装&汉化&卸载")]),a._v(" "),s("h2",{attrs:{id:"一、离线安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、离线安装"}},[a._v("#")]),a._v(" 一、离线安装")]),a._v(" "),s("h4",{attrs:{id:"_1-下载需求版本的rpm包-并传送到服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载需求版本的rpm包-并传送到服务器"}},[a._v("#")]),a._v(" 1. 下载需求版本的rpm包，并传送到服务器")]),a._v(" "),s("p",[a._v("gitlab rpm下载地址：https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el6/")]),a._v(" "),s("h4",{attrs:{id:"_2-安装gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装gitlab"}},[a._v("#")]),a._v(" 2. 安装gitlab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ivh")]),a._v(" gitlab-ce-12.3.5-ce.0.el6.x86_64.rpm\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_3-修改配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改配置文件"}},[a._v("#")]),a._v(" 3. 修改配置文件")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/gitlab/gitlab.rb\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("配置http协议所使用的访问地址")]),a._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[a._v("external_url 'http://192.168.123.45'\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_4-初始化-gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-初始化-gitlab"}},[a._v("#")]),a._v(" 4.初始化 GitLab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" gitlab-ctl reconfigure\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_5-启动gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动gitlab"}},[a._v("#")]),a._v(" 5. 启动gitlab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ gitlab-ctl restart\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("IP访问，第一次访问，系统会要求重置新密码，"),s("strong",[a._v("管理员的用户名为root")])]),a._v(" "),s("h2",{attrs:{id:"二、汉化gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、汉化gitlab"}},[a._v("#")]),a._v(" 二、汉化gitlab")]),a._v(" "),s("h4",{attrs:{id:"_1-停止gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-停止gitlab"}},[a._v("#")]),a._v(" 1. 停止gitlab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ gitlab-ctl stop\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_2-下载中文补丁包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-下载中文补丁包"}},[a._v("#")]),a._v(" 2.下载中文补丁包")]),a._v(" "),s("p",[a._v("【重要】需要下载和gitlab同样版本的中文补丁包，不然可能会导致gitlab瘫痪，下载zh结尾（中文）\n下载地址：https://gitlab.com/xhang/gitlab")]),a._v(" "),s("h4",{attrs:{id:"_3-解压"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-解压"}},[a._v("#")]),a._v(" 3. 解压")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" xf gitlab-v12.3.5-zh.tar.gz\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_4-复制并覆盖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-复制并覆盖"}},[a._v("#")]),a._v(" 4. 复制并覆盖")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("cp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v(" ./gitlab-v12.3.5-zh/* /opt/gitlab/embedded/service/gitlab-rails/\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("复制完成后，需要重新加载配置，并启动Gitlab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ gitlab-ctl reconfigure    \n$ gitlab-ctl restart\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("登录完成，点击右上角的Settings进行Preferences设置，在语言项选择中文，")]),a._v(" "),s("h2",{attrs:{id:"三、卸载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、卸载"}},[a._v("#")]),a._v(" 三、卸载")]),a._v(" "),s("h4",{attrs:{id:"_1、停止gitlab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、停止gitlab"}},[a._v("#")]),a._v(" 1、停止gitlab")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ gitlab-ctl stop\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_2、卸载gitlab-注意这里写的是gitlab-ce"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、卸载gitlab-注意这里写的是gitlab-ce"}},[a._v("#")]),a._v(" 2、卸载gitlab（注意这里写的是gitlab-ce）")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" gitlab-ce\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h4",{attrs:{id:"_3、查看gitlab进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看gitlab进程"}},[a._v("#")]),a._v(" 3、查看gitlab进程")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" aux "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" gitlab\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("4、杀掉第一个进程（就是带有好多.............的进程）")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-9")]),a._v(" ID\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("杀掉后，在ps aux | grep gitlab确认一遍，还有没有gitlab的进程")]),a._v(" "),s("p",[a._v("5、删除所有包含gitlab文件")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" / "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-name")]),a._v(" gitlab "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("参考链接：")]),a._v(" "),s("p",[a._v("1.https://www.cnblogs.com/sunhongleibibi/p/12072689.html")]),a._v(" "),s("p",[a._v("2.https://www.jianshu.com/p/f3cce3e362a4")]),a._v(" "),s("p",[a._v("3.https://developer.aliyun.com/article/114619")])])}),[],!1,null,null,null);s.default=r.exports}}]);