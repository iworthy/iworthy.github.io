(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{443:function(e,n,r){"use strict";r.r(n);var i=r(12),v=Object(i.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("p",[e._v("错怨狂风飏落花，无边春色来天地。\nWrong resentment, wind and flowers, boundless spring to the world.")]),e._v(" "),n("p",[e._v("##OneDrive##")]),e._v(" "),n("p",[e._v("###更改OneDrive存储位置###\n默认情况下OneDrive保存位置在C:\\Users\\当前用户\\OneDrive，如果保存在网盘的文件较多，这就会占用C盘大量的空间，而且系统恢复后也容易删除其中的文件。现在可以对OneDrive保存位置进行自定义设置。")]),e._v(" "),n("p",[e._v("启动OneDrive后右击任务托盘的OneDrive图标选择“设置→账户→取消链接至此电脑”，注销当前登录的账户，这样再次登录OneDrive后点击“更改位置”，然后自行为OneDrive设置一个非C盘目录即可。")]),e._v(" "),n("p",[e._v("###更改同步目录###\n默认情况下OneDrive保存目录的文件会和OneDrive服务器进行自动双向同步，比如于一些纯粹备份的资料，如私人照片数据、下载的电影，这些数据是不会进行更改的，但是在Windows 10平板上启动OneDrive后，这些庞大文件仍然会自动同步到本地，造成平板空间的紧张。")]),e._v(" "),n("p",[e._v("因此对于这些上传到OneDrive服务器后就无需再同步到本地的数据，我们可以设置自定义同步。右击任务托盘的OneDrive图标选择“设置→账户→选择文件夹”，在打开的窗口取消勾选的“同步我的OneDrive文件同步到此电脑”，然后在“仅同步这些文件夹”下勾选需要同步的目录即可，这样没被勾选的目录就不会自动同步到平板上了。")]),e._v(" "),n("p",[e._v("###同步其他位置文件到OneDrive服务器###\nOneDrive默认保存位置是C:\\Users\\当前用户\\OneDrive，OneDrive也只能默认同步保存在该位置的文件到服务器。很多时候我们可能还需要同步其他位置的文件，现在借助“mklink”为其他位置的文件在OneDrive同步目录创建目录连接即可实现。")]),e._v(" "),n("p",[e._v("比如自己保存在“g:\\gupiao”的数据也需要同步到OneDrive网盘，但是又不想移动该目录。启动命令提示符输入“mklink /d C:\\Users\\yumufa\\OneDrive\\my G:\\gupiao”，这样会在OneDrive保存目录添加一个名为“my”的符号链接，其中保存的就是“g:\\gupiao”的内容，这里的文件会被自动同步，同理通过上述方法可以将任意目录的文件同步到OneDrive网盘。")]),e._v(" "),n("p",[e._v("###加密OneDrive同步目录###\n默认情况下我们以微软账户登录系统后，任何使用我们电脑的用户都可以随意访问其中的文件。如果要保护OneDrive同步目录不被随意访问，我们可以使用lockdir软件加密的方法进行保护。")]),e._v(" "),n("p",[e._v("如果觉得软件加密操作繁琐，大家也可以这么处理：首先在线访问OneDrive，然后在网盘创建一个名为“个人文件”的目录，打开后选择那些不想被其他人查看的文件全部上传到网盘上的“个人文件”目录里。同上进入本地OneDrive的“设置→账户→选择文件夹”，取消勾选的“个人文件”目录同步到本地电脑。这样其他人使用我们电脑时无法看到这些保护文件（因为没有同步到本地），自己需要查看时只要在线访问OneDrive下载查看即可。")]),e._v(" "),n("p",[e._v("我采用的方法是使用windows系统自带的BitLocker，我的E盘始终是加密锁定的，于是把OneDrive的存储位置选择E盘，这样只有我输入密码才会看见文件，保证文件安全。但弊端是每次开机OneDrive都会提示无法使用文件夹，只有解锁才能恢复使用，通知消失。")]),e._v(" "),n("p",[e._v("##OneIndex##\n是一个PHP的网站程序，它的特点是不占用服务器空间，不走服务器流量，直接列出 OneDrive 目录，文件直链下载。\n简单来说直接把OneDrive变成一个在线的网盘网站，同时也可以变成图床网站。\n下载地址：https://github.com/donwa/oneindex")]),e._v(" "),n("p",[e._v("配置中出现的问题：\n计划任务配置时APPNODE面板里报错，原因是没有指定PHP的路径。")]),e._v(" "),n("p",[e._v("原计划任务：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("0 * * * * /具体路径/php /程序具体路径/one.php token:refresh\n\n*/10 * * * * /具体路径/php /程序具体路径/one.php cache:refresh\n")])])]),n("p",[e._v("修改后计划任务")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("/opt/appnode/appnode-php72/root/usr/bin/php /程序具体路径/one.php token:refresh\n\n/opt/appnode/appnode-php72/root/usr/bin/php /程序具体路径/one.php cache:refresh\n")])])]),n("p",[e._v("伪静态配置：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v('if (!-f $request_filename){\nset $rule_0 1$rule_0;\n}\nif (!-d $request_filename){\nset $rule_0 2$rule_0;\n}\nif ($rule_0 = "21"){\nrewrite ^/(.*)$ /index.php?/$1 last;\n}\n')])])]),n("p",[e._v("JPG文件显示404：File not found\n删除站点配置文件中相关拓展名（参考链接https://github.com/donwa/oneindex/issues/14)")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("location ~ .*.(gif|jpg|jpeg|png|bmp|swf)$\n{\nexpires 30d;\naccess_log off;\n}\n")])])])])}),[],!1,null,null,null);n.default=v.exports}}]);