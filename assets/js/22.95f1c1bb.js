(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{405:function(s,a,t){"use strict";t.r(a);var n=t(12),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jenkins安装部署问题记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins安装部署问题记录"}},[s._v("#")]),s._v(" Jenkins安装部署问题记录")]),s._v(" "),a("h2",{attrs:{id:"_1-jenkins部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-jenkins部署"}},[s._v("#")]),s._v(" 1.Jenkins部署")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" jenkins.war\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-编译安装git提示缺少zlib-h"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-编译安装git提示缺少zlib-h"}},[s._v("#")]),s._v(" 2.编译安装git提示缺少zlib.h")]),s._v(" "),a("p",[s._v("http://www.zlib.net下载zlib软件包")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xvzf")]),s._v(" zlib-1.2.11.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cd")]),s._v(" zlib-1.2.11\n$./configure\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_3-编译安装git后jenkins找不到git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-编译安装git后jenkins找不到git"}},[s._v("#")]),s._v(" 3.编译安装git后Jenkins找不到git")]),s._v(" "),a("p",[s._v("初步怀疑是环境变量配置问题，最终环境变量/etc/profile配置如下")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("JAVA_HOME=/usr/local/jdk")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("JRE_HOME=$JAVA_HOME/jre")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("PATH=$JAVA_HOME/bin:/usr/local/git/bin:usr/local/maven/apache-maven-3.3.9/bin:$PATH")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"_4-编译安装git后git-remote-https-is-not-a-git-command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译安装git后git-remote-https-is-not-a-git-command"}},[s._v("#")]),s._v(" 4.编译安装git后git: 'remote-https' is not a git command?")]),s._v(" "),a("p",[s._v("问题原因:git 依赖 curl, curl 依赖 openssl")]),s._v(" "),a("p",[s._v("https://www.openssl.org/source/openssl-1.1.1g.tar.gz")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxf openssl-1.1.1g.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" openssl-1.1.1g\n./config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j4")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("编译curl")]),s._v(" "),a("p",[s._v("https://curl.haxx.se/download.html")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxf curl-7.80.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" curl-7.80.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --with-ssl 参数设置为上一步中编译的open-ssl安装路径 ")]),s._v("\n./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local --with-ssl"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结果显示 SSL: enabled (OpenSSL) 和最后一行中显示HTTP HTTPS 即表示ok")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-j4")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("删除并重新编译安装git")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-vxf")]),s._v(" /usr/local/git/git-2.34.1.tar.gz\n./configure "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prefix")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/git\n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编辑profile环境设置环境变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在porfile最后一行加上 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/usr/local/git/bin\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生效配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"_5-linux突然所有命令都失效了-显示bash-xxxxx-command-not-found"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-linux突然所有命令都失效了-显示bash-xxxxx-command-not-found"}},[s._v("#")]),s._v(" 5.linux突然所有命令都失效了，显示bash: xxxxx: command not found...")]),s._v(" "),a("p",[s._v("手贱设置profile时删除了:$PATH导致所有命令失效")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 直接在linux命令行界面输入如下，然后回车（导入环境变量，以及shell常见的命令的存放地址）：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"_6-linux下安装maven"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-linux下安装maven"}},[s._v("#")]),s._v(" 6.Linux下安装Maven")]),s._v(" "),a("p",[s._v("https://maven.apache.org/download.cgi")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xvzf")]),s._v(" apache-maven-3.6.3-bin.tar.gz\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /usr/local/maven\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" apache-maven-3.6.3 /usr/local/maven\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置环境变量如3即可")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_7-jenkins构建maven项目离线编译和指定maven仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-jenkins构建maven项目离线编译和指定maven仓库"}},[s._v("#")]),s._v(" 7.jenkins构建maven项目离线编译和指定maven仓库")]),s._v(" "),a("p",[s._v("拷贝本地maven仓库，Jenkins使用maven编译时指定仓库地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("package "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dmaven.repo.local")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/maven/maven_repository "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dmaven.test.skip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("从本地拷贝到服务器maven仓库的同时，服务器也要使用和本地环境一致的settings.xml,只需修改maven仓库地址即可，不然容易报错")]),s._v(" "),a("h2",{attrs:{id:"_8-jenkins-publish-over-ssh-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-jenkins-publish-over-ssh-使用"}},[s._v("#")]),s._v(" 8.jenkins Publish over SSH 使用")]),s._v(" "),a("p",[s._v("Source files：源文件地址，地址的目录是相对于jenkins workspace的目录，如果只需要执行命令不需要传输文件的时候，此处可以为空，"),a("strong",[s._v("是相对于项目名称开始的路径，直接指定项目路径下的文件就完事了")])]),s._v(" "),a("p",[s._v("Remove prefix：去除的文件地址。在Source files输入框中填入的地址，会默认在服务器下创建相同的文件夹，所以需要将我们不需要的文件夹在这里剔除掉")]),s._v(" "),a("p",[s._v("Remote directory：远程服务器接收文件的地址，"),a("strong",[s._v("建议配置里远程路径设置为/，这里直接配置为你想要保存的路径就可以了，如/usr/war")])]),s._v(" "),a("p",[s._v("Exec command：文件传输任务执行完毕后，在远程服务器上执行的命令")]),s._v(" "),a("p",[s._v("参考链接：")]),s._v(" "),a("p",[s._v("linux突然所有命令都失效了，显示bash: xxxxx: command not found...\nhttps://blog.csdn.net/qq_26442553/article/details/79183260")]),s._v(" "),a("p",[s._v("Linux下安装Maven\nhttps://www.cnblogs.com/freeweb/p/5241013.html")]),s._v(" "),a("p",[s._v("Linux离线安装Git\nhttps://blog.csdn.net/daocaokafei/article/details/115091354")]),s._v(" "),a("p",[s._v("Linux离线编译安装git\nhttps://www.jianshu.com/p/11977e4ac70d")]),s._v(" "),a("p",[s._v("zlib.h的安装\nhttps://blog.csdn.net/s651665496/article/details/51494156")]),s._v(" "),a("p",[s._v("git: 'remote-https' is not a git command?\nhttps://stackoverflow.com/questions/51366101/git-remote-https-is-not-a-git-command")]),s._v(" "),a("p",[s._v("填坑 git 错误 fatal: Unable to find remote helper for http或https\nhttps://www.codeleading.com/article/44054520803/")]),s._v(" "),a("p",[s._v("jenkins构建maven项目：找不到本地依赖包的解决办法\nhttps://www.cnblogs.com/yy-cola/p/9664598.html")]),s._v(" "),a("p",[s._v("Linux libcurl安装及注意事项\nhttps://blog.csdn.net/zhouzhenhe2008/article/details/53768854")]),s._v(" "),a("p",[s._v("我如何chmod 777/var/www的所有子文件夾？\nhttps://ubuntuqa.com/zh-tw/article/2052.html")]),s._v(" "),a("p",[s._v("没有外网，IDEA如何离线使用maven仓库？\nhttps://blog.csdn.net/xqnode/article/details/88091986")])])}),[],!1,null,null,null);a.default=e.exports}}]);