(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{393:function(e,r,s){"use strict";s.r(r);var t=s(12),a=Object(t.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("Windows系统自带的Hyper-V虚拟机安装RHEL后替换yum源，以及踩坑的记录。")]),e._v(" "),r("p",[e._v("使用的镜像文件名称：rhel-server-7.9-x86_64-dvd.iso\n虚拟机：Hyper-V")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("清除原有RHEL的YUM及相关软件包：\n"),r("code",[e._v("rpm -qa|grep yum|xargs rpm -e --nodeps")]),e._v(" "),r("code",[e._v("rpm -qa|grep python-urlgrabber|xargs rpm -e --nodeps")])])]),e._v(" "),r("li",[r("p",[e._v("下载centos7的相关软件包：")])])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("http://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-3.4.3-168.el7.centos.noarch.rpm\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-metadata-parser-1.1.4-10.el7.x86_64.rpm\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/python-iniparse-0.4-9.el7.noarch.rpm\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/python-urlgrabber-3.10-10.el7.noarch.rpm\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br")])]),r("ol",{attrs:{start:"3"}},[r("li",[r("p",[e._v("上传软件包到linux")])]),e._v(" "),r("li",[r("p",[e._v("安装软件包：\n注：yum-plugin-fastestmirror和yum两个rpm要一起安装，不能拆开。")])])]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("rpm -ivh python-iniparse-0.4-9.el7.noarch.rpm\nrpm -ivh python-urlgrabber-3.10-10.el7.noarch.rpm\nrpm -ivh yum-metadata-parser-1.1.4-10.el7.x86_64.rpm\nrpm -ivh yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm yum-3.4.3-168.el7.centos.noarch.rpm\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("ol",{attrs:{start:"5"}},[r("li",[r("p",[e._v("下载配置文件http://mirrors.163.com/.help/CentOS7-Base-163.repo\n把文件中所有"),r("code",[e._v("$releasever")]),e._v("改为当前redhat的版本\n将此配置文件上传并复制到"),r("code",[e._v("/etc/yum.repos.d/")]),e._v("路径下\n使用"),r("code",[e._v("cat /etc/issue")]),e._v("  或"),r("code",[e._v("cat /etc/redhat-release")]),e._v("（Linux查看版本当前操作系统发行版信息）\n注：这里我将$releasever替换为7.9.2009，实际我的redhat的版本在镜像源中是没有对应的\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/repodata/repomd.xml")])]),e._v(" "),r("li",[r("p",[e._v("删除"),r("code",[e._v("/var/cache/yum/")]),e._v("下的x86_64目录")])]),e._v(" "),r("li",[r("p",[e._v("清理yum缓存:"),r("code",[e._v("yum clean all")])])]),e._v(" "),r("li",[r("p",[e._v("将服务器软件包信息缓存至本地，提高搜索安装效率："),r("code",[e._v("yum makecache")])])]),e._v(" "),r("li",[r("p",[e._v("测试："),r("code",[e._v("yum search vim")])])]),e._v(" "),r("li",[r("p",[e._v("执行"),r("code",[e._v("yum repolist")]),e._v("查看，如果显示出repo仓库列表，并显示软件包数量则OK。（或者使用"),r("code",[e._v("yum makecache")])])]),e._v(" "),r("li",[r("p",[e._v("使用yum安装软件包测试："),r("code",[e._v("yum -y install vim")])])]),e._v(" "),r("li",[r("p",[e._v("安装htop进程监视工具\n首先添加EPEL存储库，并确保所有软件包都是最新的。\n"),r("code",[e._v("yum -y install epel-release")]),e._v(" "),r("code",[e._v("yum -y update")]),e._v(" 注：这是踩坑的地方，我update执行完后系统就会无法启动，找不到grub引导文件，不update也可以安装，暂时忽略。\n使用yum命令安装htop进程监视工具：\n"),r("code",[e._v("yum -y install htop")])])])]),e._v(" "),r("p",[e._v("执行"),r("code",[e._v("yum -y update")]),e._v("后\n"),r("img",{attrs:{src:"https://alist.worthy.cc/d/local/images/2023/03/05/1678018974.png",alt:"Snipaste_2023-03-05_11-04-24.png"}})]),e._v(" "),r("p",[e._v("重新启动系统后\n"),r("img",{attrs:{src:"https://alist.worthy.cc/d/local/images/2023/03/05/1678018976.png",alt:"Snipaste_2023-03-05_11-04-59.png"}})]),e._v(" "),r("p",[e._v("https://blog.csdn.net/wqh0830/article/details/86727100\nhttp://mirrors.163.com/.help/centos.html\nhttp://mirrors.163.com/centos/7.9.2009/os/x86_64/Packages/")])])}),[],!1,null,null,null);r.default=a.exports}}]);